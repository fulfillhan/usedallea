<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.application.usedallea.img.dao.ProductImgDAO">
<!--	<insert id="saveImg" parameterType="ProductImgDTO">-->
<!--		<selectKey keyProperty="imgId" resultType="long" order="AFTER">-->
<!--			SELECT img.IMG_ID-->
<!--			FROM img-->
<!--		</selectKey>-->
<!--		INSERT INTO IMG(-->
<!--			IMG_ID,-->
<!--			IMG_SEQ,-->
<!--			IMG_UUID,-->
<!--			ORIGINAL_NAME-->
<!--		)-->
<!--		VALUES(-->
<!--			#{imgId},-->
<!--			#{imgSeq},-->
<!--			#{imgUUID},-->
<!--			#{originalName}-->
<!--		)-->
<!--	</insert>-->

	<insert id="saveImg" parameterType="ProductImgDTO">
		INSERT INTO IMG(
			IMG_ID,
			IMG_SEQ,
			IMG_UUID,
			ORIGINAL_NAME
		)
		VALUES(
			  #{imgId},
			  #{imgSeq},
			  #{imgUUID},
			  #{originalName}
			  )
	</insert>
	
	<select id="getMaxImgId" resultType="long">
	SELECT MAX(IMG_ID)+1 AS MAX_IMG_ID
	FROM IMG
	</select>
</mapper>