<!DOCTYPE html>
<html>
<head>
	<script src="/js/jquery-3.6.1.min.js"></script>
</head>
<body>
<div>
	<div align="center">
	<h4>로그인</h4>
	<br><br>
	<input type="text" id ="userId" placeholder="아이디를 입력하세요." required>
	<br><br>
	<input type="password" id ="password" placeholder="패스워드를 입력하세요." required>
	<br><br>
	<label id="loginFaileMsg"></label>
	<br>
	<input type="button" id="loginBtn" value="로그인">
   </div>
</div>
  <script>
	$(function(){
		$("#loginBtn").click(function(){
			   var loginData = {
				   "userId" : $("#userId").val(),    // 식별자 보내주기
				   "password" : $("#password").val()
			   }

			   $.ajax({
				   url: "/member/login",
				   type: "post",
				   contentType: "application/json",
				   data: JSON.stringify(loginData),
				   success: function (validateLogin) {
					   if (validateLogin == "y") {
						   location.href="/usedallea/main";
					   }
					   else if(validateLogin == "n"){
						   $("#loginFaileMsg").html("<span style='color:red;'>아이디와 패스워드가 일치하지 않습니다.<br>입력한 내용을 다시 한번 확인해주세요.</span>");
						  
					   }
				   }
			   });
		   });

		$("#userId").focus(function (){   // 아이디 입력란에 포커스를 받으면 메시지 지움
			$("#loginFaileMsg").html("");
		});

		$("#password").focus(function (){ // 패스워드 입력란에 포커스를 받으면 메시지 지움
			$("#loginFaileMsg").html("");
		});


   });


  </script>
</body>
</html>